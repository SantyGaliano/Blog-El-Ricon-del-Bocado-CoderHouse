:root{
  /* Alturas visibles del navbar (fijas) */
  --navbar-h: 64px;
  --navbar-h-sm: 56px;
}

/* Navbar: vidrio y altura fija */
.navbar-custom{
  background: rgba(12,12,14,.80);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(255,255,255,.08);
  top: var(--topbar-h);
  transition: top .3s ease;
  height: var(--navbar-h);
  overflow: visible;
}

/* Ancla de la marca: posiciona el logo sin crecer la barra */
.navbar-brand{
  position: relative;
  height: 100%;
  display: flex;
  align-items: center;
}

/* Logo grande sin afectar el alto del navbar (fuera de flujo) */
.brand-logo{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  height: 160px;
  width: auto;
  max-height: none;
  display: block;
  line-height: 0;
  z-index: 0;
}
.navbar-brand > img.brand-logo{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  height: 160px;
  width: auto;
  max-height: none;
  display: block;
  line-height: 0;
  z-index: 0;
}

/* Menú centrado */
.navbar-custom .container-fluid{ position: relative; }
.primary-nav{
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  gap: clamp(12px, 4vw, 28px);
  align-items: center;
}

/* Links e indicador inferior (paleta fuego) */
.modern-link{
  position: relative;
  font-weight: 600;
  color: rgba(255,255,255,.86);
  padding-bottom: .15rem; /* acerca el subrayado */
}
.modern-link:hover{ color:#fff; }

/* Subrayado pegado al texto */
.modern-link::after{
  content:"";
  position:absolute;
  left:.08rem;
  right:.08rem;
  bottom:0;
  height:2px;
  background: var(--fire-grad);
  opacity:0;
  transform: scaleX(.5);
  transform-origin: center;
  transition: opacity .2s ease, transform .2s ease;
}
.modern-link:hover::after,
.modern-link.is-active::after{
  opacity:1;
  transform: scaleX(1);
}

/* Icono en enlaces simples (ej. Iniciar sesión) */
.nav-ico{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:1rem;
  height:1rem;
  margin-right:.35rem;
  line-height:0;
  opacity:.95;
  transition: opacity .2s ease, transform .18s ease;
  transform: translateY(1px); /* alineación óptica */
}
@media (hover: hover){
  .modern-link:hover .nav-ico{ opacity:1; }
}

/* Caret en items con dropdown (chevron-down) */
.nav-caret{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:.9rem;
  height:.9rem;
  margin-left:.35rem;
  opacity:.9;
  transition: transform .18s ease, opacity .2s ease;
  line-height:0;
  transform: translateY(1px); /* alineación con baseline del texto */
}
.nav-link.show .nav-caret{ transform: translateY(1px) rotate(180deg); }
@media (hover: hover){
  .modern-link:hover .nav-caret{ opacity:1; }
}

/* ===========================
   Mega menús (centrado real)
   =========================== */

/* Contenedor Bootstrap del dropdown: sin borde, sin fondo, sin sombra */
.dropdown-menu.mega-menu{
  border: 0 !important;
  background: transparent !important;
  box-shadow: none !important;
  padding: 0; /* refuerzo, ya viene p-0 en HTML */
}

/* Base del mega: visibilidad y fade */
.mega-menu{
  position: absolute;
  display:block;
  visibility:hidden;
  opacity:0;
  transition: opacity .18s ease, visibility 0s linear .18s;
  transform-origin: top center;
  left: auto; right: auto;
}

/* Recetas: centrado respecto al viewport y animación manteniendo translateX(-50%) */
.mega-recipes{
  width: 900px;
  margin-top: 8px;
  left:50%;
  transform: translate(-50%, 6px) scale(.98);
  transition: transform .18s ease;
}

/* Nosotros: centrado igual */
.mega-about{
  width: 320px;
  margin-top: 8px;
  left:50%;
  transform: translate(-50%, 6px) scale(.98);
  transition: transform .18s ease;
}

/* Mostrar: sólo opacidad en el contenedor */
.dropdown.show > .mega-menu{
  visibility:visible;
  opacity:1;
  transition: opacity .18s ease;
}

/* Mostrar: animación Y/escala en panel, manteniendo centrado */
.dropdown.show > .mega-recipes,
.dropdown.show > .mega-about{
  transform: translate(-50%, 0) scale(1);
}

/* Tarjeta interna del mega: sin borde; la sombra define el panel */
.mega-card{
  position: relative;
  overflow: hidden;
  border-radius: 16px;
  border: 0 !important;           /* quita cualquier borde visible */
  background: rgba(18,18,20,.95);
  backdrop-filter: blur(18px);
  box-shadow: 0 24px 60px rgba(0,0,0,.55);
  padding: 24px;
}
.mega-card.small{ padding: 12px; }

/* Ambientación */
.mega-bg{
  position: absolute; inset:0;
  background: var(--fire-ambient);
  pointer-events:none;
}
.mega-topline{
  position:absolute; left:50%; top:0; transform: translateX(-50%);
  width:75%; height:1px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.28), transparent);
  pointer-events:none;
}

/* Títulos de sección */
.section-title{
  display:flex; align-items:center; gap:10px; margin-bottom: 10px;
}
.section-title h3{
  margin:0; font-family: 'Space Grotesk', sans-serif; color:#fff; font-size: 1rem;
}
.title-bar{
  width:4px; height:24px; border-radius: 999px;
  background: var(--fire-grad-vert);
}
.title-bar.alt{ background: linear-gradient(180deg, var(--accent), var(--accent-700)); }
.title-bar.gold{ background: linear-gradient(180deg, #EAC54F, #D48806); }

/* Mini tarjetas */
.card-mini{
  display:flex; align-items:center; gap:10px;
  border:1px solid var(--border);
  background: rgba(255,255,255,.05);
  backdrop-filter: blur(8px);
  border-radius: 12px; padding: 10px 12px;
  text-decoration:none; color:#fff; position:relative;
}
.card-mini:hover{ border-color: var(--border-strong); }
.mini-ico{ font-size: 18px; line-height: 1; }
.mini-texts{ display:flex; flex-direction:column; }
.mini-title{ font-family:'Space Grotesk',sans-serif; }
.mini-sub{ color: rgba(255,255,255,.6); font-size: .85rem; }
.mini-arrow{
  position:absolute; right:10px; top:50%; transform: translateY(-50%);
  color: rgba(255,255,255,.5); opacity:0; transition: opacity .2s ease, transform 1s ease;
}
.card-mini:hover .mini-arrow{ opacity:1; }

/* Separador vertical */
.v-sep{
  width:1px; background: linear-gradient(180deg,transparent, rgba(255,255,255,.25), transparent);
}

/* Colecciones */
.card-collection{
  display:flex; gap:10px; align-items:flex-start;
  text-decoration:none; color:#fff;
  border:1px solid var(--border);
  background: rgba(255,255,255,.05);
  border-radius: 12px; padding: 10px 12px;
}
.card-collection:hover{ border-color: var(--border-strong); }
.col-ico{ font-size: 18px; }
.col-title{ font-family:'Space Grotesk',sans-serif; }
.col-sub{ color: rgba(255,255,255,.6); font-size:.92rem; }

/* Destacadas */
.card-featured{ display:block; text-decoration:none; color:#fff; border-radius:12px; overflow:hidden; }
.feat-img{ position:relative; aspect-ratio:1/1; }
.feat-img img{ width:100%; height:100%; object-fit:cover; transition: transform .4s ease; display:block; }
.card-featured:hover img{ transform: scale(1.06); }
.feat-grad{ position:absolute; inset:0; background: linear-gradient(0deg, rgba(0,0,0,.85), rgba(0,0,0,.2) 60%, transparent); }
.feat-info{ position:absolute; left:0; right:0; bottom:0; padding: 8px; }
.feat-title{ font-family:'Space Grotesk',sans-serif; font-size:.95rem; }
.feat-meta{ color: rgba(255,255,255,.75); font-size:.85rem; }

/* About: lista y CTA */
.list-opts{ display:flex; flex-direction:column; gap:8px; }
.opt{
  display:flex; align-items:flex-start; gap:10px; position:relative;
  text-decoration:none; color:#fff;
  border-radius:12px; padding:10px 12px;
  background: rgba(255,255,255,.05); border:1px solid transparent;
}
.opt:hover{ border-color: var(--border); background: rgba(255,255,255,.08); }
.opt-ico{ font-size:18px; }
.opt-title{ display:block; font-family:'Space Grotesk',sans-serif; }
.opt-sub{ display:block; color: rgba(255,255,255,.65); font-size:.92rem; }
.opt-arrow{
  position:absolute; right:10px; top:50%; transform: translateY(-50%);
  color: rgba(255,255,255,.5);
}

/* CTA del panel */
.cta-box{
  margin-top:10px; border-radius:12px;
  border:1px solid var(--border);
  background: linear-gradient(135deg,
    color-mix(in oklab, var(--fire-2) 10%, transparent),
    color-mix(in oklab, var(--fire-3) 10%, transparent)
  );
  padding:12px;
}
.cta-head{ display:flex; align-items:center; gap:8px; }
.cta-title{ font-family:'Space Grotesk',sans-serif; color:#fff; }
.cta-sub{ color: rgba(255,255,255,.75); margin:6px 0 10px; }
.cta-actions{ display:flex; gap:8px; }

/* Responsive */
@media (max-width: 991.98px){
  .navbar-custom{ height: var(--navbar-h-sm); }

  .brand-logo,
  .navbar-brand > img.brand-logo{
    height: 120px;
  }

  .primary-nav{ position: static; transform:none; }

  /* En mobile: centrado y animación coherente */
  .mega-recipes,
  .mega-about{
    left:50%;
    transform: translate(-50%, 6px) scale(.98);
  }
  .dropdown.show > .mega-recipes,
  .dropdown.show > .mega-about{
    transform: translate(-50%, 0) scale(1);
  }

  .modern-link::after{
    bottom:0;
    left:.06rem;
    right:.06rem;
  }
}
